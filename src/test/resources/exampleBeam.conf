beam {
  app {
    "name": "KafkaLogCountExample"
  }

  streaming {
    windowDuration: 30s
    slideDuration: 5s
    batchDuration: 5s
    checkpointDir: ${java.io.tmpdir}/checkpoint/
    shutdownMarker: ${java.io.tmpdir}/stopMarker
  }
  spark {
    "spark.streaming.backpressure.enabled": true
    "spark.executor.memory": "4g"
  }
  input = [
    {
      class: "io.github.shen.input.KafkaInputBeam"
      config: {
        topics = [
          "topicA"
          "topicB"
        ]
        params {
          "metadata.broker.list": "kafka:9092"
          "group.id": "consumerGroupName"
          "auto.offset.reset": "lastest"
        }
      }
    }
  ]
  output = [
    {
      class: "io.github.shen.input.KafkaOutputBeam"
      config: {
        outputClass: ""
        topics = [
          "topicA"
          "topicB"
        ]
        params {
          "metadata.broker.list": "kafka:9092"
          "group.id": "consumerGroupName"
          "auto.offset.reset": "lastest"
        }
      }
    }
  ]
}
